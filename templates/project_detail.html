{% extends 'base.html' %}

{% load static %}

{% block content %}
<div class="container my-5" style="background-image: url('{% static 'image/background.jpg' %}'); background-size: cover; background-position: center; padding: 30px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">

    <article class="project">    
        <section class="project-name pt-5">
            <h2 class="text-center text-primary" style="font-family: 'Arial', sans-serif; font-size: 36px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);">{{ project.name }}</h2>
        </section>

        <h2 class="mb-4 text-center p-4" style="font-family: 'Arial', sans-serif; font-size: 28px; font-weight: bold; background-color:rgb(37, 88, 138); padding: 10px; border-radius: 5px;">
          Project Detail
        </h2>
        
        <!-- Row for Image on Left and Project Details Cards on Right -->
        <div class="row mt-4 d-flex" style="display: flex; align-items: stretch;">
            <!-- Project Image (Left Side) -->
            <div class="col-md-4 mb-4 d-flex">
                <div class="card shadow-sm border-light w-100" style="height: 465px; display: flex; flex-direction: column;"> <!-- Adjust the height of the image card here -->
                    <div class="card-body p-4 d-flex justify-content-center align-items-center" style="height: 100%; padding-bottom: 10px;">
                        <!-- Display Image if the project has an image -->
                        {% if project.image %}
                            <img src="{{ project.image.url }}" alt="{{ project.name }} Image" class="img-fluid rounded" style="object-fit: cover; width: 100%; height: 100%;">
                        {% else %}
                            <p>No image available for this project.</p>
                        {% endif %}
                    </div>
                    <div class="card-footer text-center">                  
                      <p class="fs-6 text-muted">You can see every detail of project.</p>
                  </div>
                </div>
            </div>

            <!-- Project Details (Right Side) -->
            <div class="col-md-8 d-flex">
                <div class="w-100" style="display: flex; flex-direction: column; height: 100%;"> <!-- Ensure it fills the available height -->
                    <!-- Row for Short Description and Description -->
                    <div class="row mt-4 w-100" style="flex: 1;">
                        <div class="col-md-6 mb-4">
                            <div class="card shadow-sm border-light h-100">
                                <div class="card-body">
                                    <h4 class="card-title text-secondary" style="font-family: 'Arial', sans-serif; font-size: 22px;"><b>Short Description:</b></h4>
                                    <p class="card-text lead" style="line-height: 1.6; color: #333;">{{ project.short_description|linebreaksbr }}</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6 mb-4">
                            <div class="card shadow-sm border-light h-100">
                                <div class="card-body">
                                    <h4 class="card-title text-secondary" style="font-family: 'Arial', sans-serif; font-size: 22px;"><b>Description:</b></h4>
                                    <p class="card-text" style="line-height: 1.6; color: #333;">{{ project.description|linebreaksbr }}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Row for Project Details (Created On, End Date, Type, Developers) -->
                    <div class="row mt-4" style="flex: 1;">
                        <div class="col-md-6 mb-4">
                            <div class="card shadow-sm border-light h-100">
                                <div class="card-body">
                                    <h4 class="card-title text-secondary" style="font-family: 'Arial', sans-serif; font-size: 22px;"><b>Project Dates:</b></h4>
                                    <div style="font-size: 18px; font-weight: bold;">Created on: <span style="font-weight: normal; color: #555;">{{ project.created_date|date:"F j, Y" }}</span></div>
                                    <div style="font-size: 18px; font-weight: bold;">End date: <span style="font-weight: normal; color: #555;">{{ project.end_date|date:"F j, Y" }}</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6 mb-4">
                            <div class="card shadow-sm border-light h-100">
                                <div class="card-body">
                                    <h4 class="card-title text-secondary" style="font-family: 'Arial', sans-serif; font-size: 22px;"><b>Project Information:</b></h4>
                                    <div style="font-size: 18px; font-weight: bold;">Type: <span style="font-weight: normal; color: #555;">{{ project.type }}</span></div>
                                    <div style="font-size: 18px; font-weight: bold;">Developers:</div>
                                    <div>
                                        {% for developer in project.developers.all %}
                                            <span style="color: #007bff;">{{ developer.name }}</span>{% if not forloop.last %}, {% endif %}
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </article>

    <div class="back-link mt-4 text-center">
        <a href="{% url 'project_list' %}" class="btn btn-primary btn-lg" style="border-radius: 50px; padding: 10px 30px; box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);">Back to Projects</a>
    </div>
</div>

{% endblock %}
